# Used for running team calcs in Server
#
# Example:
#
# {'auto_avg_balls_high': 3.8381,
# 'auto_avg_balls_low': 56.4716,
# 'auto_avg_balls_total': 10.4353,
# 'avg_incap_time': 70.5843,
# 'climb_all_attempts': 23,
# 'team_number': 29,
# 'tele_avg_balls_high': 92.9179,
# 'tele_avg_balls_low': 17.4558,
# 'tele_avg_balls_total': 5.5324,
# 'tele_cp_position_successes': 54,
# 'tele_cp_rotation_successes': 66,
# 'auto_sd_balls_low': 4.6602,
# 'auto_sd_balls_high': 3.2754,
# 'tele_sd_balls_low': 8.9442,
# 'tele_sd_balls_high': 2.7654}
#


# Contains information about this schema file
schema_file:
  # Version of schema file
  # Incremented every merged schema change
  version: 6

# Stores fields that will be added to database but do not require calculations
data:
  team_number: int

# Averages of fields in consolidated TIMs
averages:
  auto_avg_balls_low:
    tim_fields: [obj_tim.auto_balls_low]
    type: float
  auto_avg_balls_high:
    tim_fields: [obj_tim.auto_balls_high]
    type: float
  auto_avg_balls_total:
    tim_fields: [obj_tim.auto_balls_low, obj_tim.auto_balls_high]
    type: float
  tele_avg_balls_low:
    tim_fields: [obj_tim.tele_balls_low]
    type: float
  tele_avg_balls_high:
    tim_fields: [obj_tim.tele_balls_high]
    type: float
  tele_avg_balls_total:
    tim_fields: [obj_tim.tele_balls_low, obj_tim.tele_balls_high]
    type: float
  avg_incap_time:
    tim_fields: [obj_tim.incap]
    type: float

# Standard deviations of fields in consolidated TIMs
# Used for predictions
standard_deviations:
  auto_sd_balls_low:
    tim_fields: [obj_tim.auto_balls_low]
    type: float
  auto_sd_balls_high:
    tim_fields: [obj_tim.auto_balls_high]
    type: float
  tele_sd_balls_low:
    tim_fields: [obj_tim.tele_balls_low]
    type: float
  tele_sd_balls_high:
    tim_fields: [obj_tim.tele_balls_high]
    type: float

# Counts of occurrences in consolidated TIMs
counts:
  tele_cp_rotation_successes:
    tim_fields:
      obj_tim.control_panel_rotation: True
    type: int
  tele_cp_position_successes:
    tim_fields:
      obj_tim.control_panel_position: True
    type: int
  climb_all_attempts:
    tim_fields:
      not:
        obj_tim.climb_time: 0
    type: int
